# Plus Smart Home Tech
Сервис на основе микросервисной архитектуры для экосистемы умного дома, состоящий из трех основных модулей:

## 1. Telemetry - модуль телеметрии
Этот модуль отвечает за создание и управление датчиками умного дома. Он собирает данные с датчиков, передает их через gRPC-сервер с использованием Protobuf для сериализации и распределяет данные по топикам Kafka в зависимости от типа датчика. Также выполняет анализ показаний и запуск сценариев на их основе.
### Основной функционал
- Сбор и передача данных с датчиков
- gRPC-сервер с Protobuf для эффективного взаимодействия
- Kafka для распределения данных по соответствующим топикам
- Выполнение сценариев на основе анализа данных датчиков

## 2. Commerce - модуль интернет-магазина
Этот модуль реализует интернет-магазин на основе микросервисной архитектуры. Данные хранятся в общей базе данных PostgreSQL, но каждый микросервис использует свою таблицу. Взаимодействие между микросервисами осуществляется через Feign-клиент.
### Основной функционал сервиса *Shopping store*
- создание нового товара
- обновление товара в ассортименте, уточнение описания или характеристик товара
- получение списка товаров по типу с пагинацией
- удаление товара из ассортимента магазина
- получение информации о товаре из БД
### Основной функционал сервиса *Shopping cart*
- отображение актуального состава корзины для авторизованного пользователя
- добавление товара в корзину
- удаление товара из корзины
- изменение количества товаров в корзине
- деактивация корзины для пользователя 
### Основной функционал сервиса *Warehouse*
- принятие товара на склад
- добавление нового товара на склад
- проверка доступности товаров по корзине
- получение адреса склада
- сборка товаров для заказа
- передача товаров в доставку
- возврат товара
### Основной функционал сервиса *Order*
- создание нового заказа
- оплата заказа
- расчёт стоимости доставки
- расчёт итоговой стоимости заказа
- получение списка заказов клиента
- сборка заказа
- отгрузка товаров
- обработка ошибок оплаты
- обработка ошибок сборки
- обработка ошибок доставки
- возврат заказа
### Основной функционал сервиса *Payment*
- эмулятор платежного шлюза
### Основной функционал сервиса *Delivery*
- эмуляция интеграции с существующим сервисом доставки
- сохранение сведения о доставке в БД и возвращение идентификатора созданного объекта
- расчет стоимость доставки заказа
- принятие товара в доставку

## 3. Infra - модуль инфраструктуры
Этот модуль обеспечивает основу для взаимодействия микросервисов и управления конфигурациями. 
Использует Spring Cloud Config для централизованного хранения конфигураций (реализовано через YAML-файлы), Spring Cloud Eureka для регистрации и обнаружения микросервисов, а также Spring Cloud Gateway в качестве единой точки входа для маршрутизации запросов.
### Основной функционал сервиса
- централизованное управление конфигурациями через YAML-файлы
- регистрация и обнаружение микросервисов с помощью Eureka
- взаимодействие микросервисов через Feign-клиент
- единая точка входа для запросов через Spring Cloud Gateway

## Стек технологий
Java
Spring Boot
Spring Data
Spring Cloud (Config, Eureka, Gateway)
Hibernate
REST API
PostgreSQL
Lombok
Maven
Docker
Postman
Микросервисная архитектура
gRPC
Protobuf 
AVRO
Kafka
Feign Client
Circuit Breaker
